!function e(r,t,n){function o(i,c){if(!t[i]){if(!r[i]){var a="function"==typeof require&&require;if(!c&&a)return a(i,!0);if(u)return u(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var d=t[i]={exports:{}};r[i][0].call(d.exports,function(e){var t=r[i][1][e];return o(t?t:e)},d,d.exports,e,r,t,n)}return t[i].exports}for(var u="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-main.js":[function(e,r,t){"use strict";var n=e("redux"),o=e("./redux-dom-binding"),u=e("functional-utils"),i={value:1e3,focused:!1},c=function(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],r=arguments[1];switch(r.type){case"DOM_FOCUS":return(0,u.merge)(e,{focused:!0});case"DOM_BLUR":return(0,u.merge)(e,{focused:!1});case"DOM_INPUT":var t=Number(r.text);return Number.isNaN(t)?e:(0,u.merge)(e,{value:t});default:return e}};document.addEventListener("DOMContentLoaded",function(){Array.from(document.querySelectorAll(".common-donation")).forEach(function(e){var r=e.querySelector(".common-donation_form"),t=e.querySelector(".common-donation_tips"),u=e.querySelector(".common-donation_amount"),i=e.querySelector(".common-donation_donate-button"),a=r.querySelector("input[name=sum]"),s=(0,n.createStore)(c),d=function(){var e=s.getState(),r=e.value,n=e.focused,o=.005,c=r-r*(o/(1+o)),d=r-c;u.value=r+(n?"":" ₽"),i.disabled=!(r>0),t.innerText="Будет переведено "+c.toFixed(2)+" ₽ (комиссия "+d.toFixed(2)+" ₽)",a.value=r};s.subscribe(d),d(),(0,o.bindEvents)(u,["input","focus","blur"],s)}),Array.from(document.querySelectorAll(".special-project_donate")).forEach(function(e){var r=e.querySelector(".special-project_donate-amount"),t=e.querySelector(".special-project_donate-button"),u=e.querySelector("input[name=sum]"),i=(0,n.createStore)(c),a=function(){var e=i.getState(),n=e.value,o=e.focused;r.value=n+(o?"":" ₽"),t.disabled=!(n>0),u.value=n};i.subscribe(a),a(),(0,o.bindEvents)(r,["input","focus","blur"],i)})})},{"./redux-dom-binding":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/redux-dom-binding.js","functional-utils":"functional-utils",redux:"redux"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/redux-dom-binding.js":[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["input","focus","blur"],o={};n.forEach(function(e){o[e]=function(){switch(e){case"input":return function(e){return{type:"DOM_INPUT",text:e.target.value}};case"focus":return function(e){return{type:"DOM_FOCUS"}};case"blur":return function(e){return{type:"DOM_BLUR"}};default:throw new Error("Unsupported event: "+e)}}()});var u={};n.forEach(function(e){var r=o[e];u[e]=function(t,n){t.addEventListener(e,function(e){n.dispatch(r(e))})}});t.bindEvents=function(e,r,t){var n="string"==typeof r?r.split(" "):r,o="length"in e?Array.from(e):[e];o.forEach(function(e){n.forEach(function(r){if(!(r in u))throw new Error("Undefined event type: "+r);var n=u[r];n(e,t)})})}},{}]},{},["/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-main.js"]);