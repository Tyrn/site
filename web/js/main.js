!function e(r,t,n){function o(i,a){if(!t[i]){if(!r[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(u)return u(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var s=t[i]={exports:{}};r[i][0].call(s.exports,function(e){var t=r[i][1][e];return o(t?t:e)},s,s.exports,e,r,t,n)}return t[i].exports}for(var u="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({"/var/www/site/js/entry-main.js":[function(e,r,t){"use strict";function n(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}var o=e("redux"),u=e("./redux-dom-binding"),i=e("functional-utils"),a={value:1e3,focused:!1},c=function(){var e=arguments.length<=0||void 0===arguments[0]?a:arguments[0],r=arguments[1];switch(r.type){case"DOM_FOCUS":return(0,i.merge)(e,{focused:!0});case"DOM_BLUR":return(0,i.merge)(e,{focused:!1});case"DOM_INPUT":var t=Number(r.text);return Number.isNaN(t)?e:(0,i.merge)(e,{value:t});default:return e}};document.addEventListener("DOMContentLoaded",function(){[].concat(n(document.querySelectorAll(".common-donation"))).forEach(function(e){var r=e.querySelector(".common-donation_form"),t=e.querySelector(".common-donation_tips"),n=e.querySelector(".common-donation_amount"),i=e.querySelector(".common-donation_donate-button"),a=r.querySelector("input[name=sum]"),f=(0,o.createStore)(c),s=function(){var e=f.getState(),r=e.value,o=e.focused,u=.005,c=r-r*(u/(1+u)),s=r-c;n.value=r+(o?"":" ₽"),i.disabled=!(r>0),t.innerText="Будет переведено "+c.toFixed(2)+" ₽ (комиссия "+s.toFixed(2)+" ₽)",a.value=r};f.subscribe(s),s(),(0,u.bindEvents)(n,["input","focus","blur"],f)}),[].concat(n(document.querySelectorAll(".special-project_donate"))).forEach(function(e){var r=e.querySelector(".special-project_donate-amount"),t=e.querySelector(".special-project_donate-button"),n=e.querySelector("input[name=sum]"),i=(0,o.createStore)(c),a=function(){var e=i.getState(),o=e.value,u=e.focused;r.value=o+(u?"":" ₽"),t.disabled=!(o>0),n.value=o};i.subscribe(a),a(),(0,u.bindEvents)(r,["input","focus","blur"],i)})})},{"./redux-dom-binding":"/var/www/site/js/redux-dom-binding.js","functional-utils":"functional-utils",redux:"redux"}],"/var/www/site/js/redux-dom-binding.js":[function(e,r,t){"use strict";function n(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=["input","focus","blur"],u={};o.forEach(function(e){u[e]=function(){switch(e){case"input":return function(e){return{type:"DOM_INPUT",text:e.target.value}};case"focus":return function(e){return{type:"DOM_FOCUS"}};case"blur":return function(e){return{type:"DOM_BLUR"}};default:throw new Error("Unsupported event: "+e)}}()});var i={};o.forEach(function(e){var r=u[e];i[e]=function(t,n){t.addEventListener(e,function(e){n.dispatch(r(e))})}});t.bindEvents=function(e,r,t){var o="string"==typeof r?r.split(" "):r,u="length"in e?[].concat(n(e)):[e];u.forEach(function(e){o.forEach(function(r){if(!(r in i))throw new Error("Undefined event type: "+r);var n=i[r];n(e,t)})})}},{}]},{},["/var/www/site/js/entry-main.js"]);