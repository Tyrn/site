!function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(u)return u(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var d=n[i]={exports:{}};t[i][0].call(d.exports,function(e){var n=t[i][1][e];return o(n?n:e)},d,d.exports,e,t,n,r)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({"/var/www/site/js/entry-main.js":[function(e,t,n){"use strict";var r=e("redux"),o=e("./redux-dom-binding"),u=e("functional-utils");e("is-nan").shim();var i={value:1e3,focused:!1},a=function(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"DOM_FOCUS":return(0,u.merge)(e,{focused:!0});case"DOM_BLUR":return(0,u.merge)(e,{focused:!1});case"DOM_INPUT":var n=Number(t.text);return Number.isNaN(n)?e:(0,u.merge)(e,{value:n});default:return e}};document.addEventListener("DOMContentLoaded",function(){Array.prototype.slice.apply(document.querySelectorAll(".common-donation")).forEach(function(e){var t=e.querySelector(".common-donation_form"),n=e.querySelector(".common-donation_tips"),u=e.querySelector(".common-donation_amount"),i=e.querySelector(".common-donation_donate-button"),c=t.querySelector("input[name=sum]"),s=(0,r.createStore)(a),d=function(){var e=s.getState(),t=e.value,r=e.focused,o=.005,a=t-t*(o/(1+o)),d=t-a;u.value=t+(r?"":" ₽"),i.disabled=!(t>0),n.innerText="Будет переведено "+a.toFixed(2)+" ₽ (комиссия "+d.toFixed(2)+" ₽)",c.value=t};s.subscribe(d),d(),(0,o.bindEvents)(u,["input","focus","blur"],s)}),Array.prototype.slice.apply(document.querySelectorAll(".special-project_donate")).forEach(function(e){var t=e.querySelector(".special-project_donate-amount"),n=e.querySelector(".special-project_donate-button"),u=e.querySelector("input[name=sum]"),i=(0,r.createStore)(a),c=function(){var e=i.getState(),r=e.value,o=e.focused;t.value=r+(o?"":" ₽"),n.disabled=!(r>0),u.value=r};i.subscribe(c),c(),(0,o.bindEvents)(t,["input","focus","blur"],i)})})},{"./redux-dom-binding":"/var/www/site/js/redux-dom-binding.js","functional-utils":"functional-utils","is-nan":"is-nan",redux:"redux"}],"/var/www/site/js/redux-dom-binding.js":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=["input","focus","blur"],o={};r.forEach(function(e){o[e]=function(){switch(e){case"input":return function(e){return{type:"DOM_INPUT",text:e.target.value}};case"focus":return function(e){return{type:"DOM_FOCUS"}};case"blur":return function(e){return{type:"DOM_BLUR"}};default:throw new Error("Unsupported event: "+e)}}()});var u={};r.forEach(function(e){var t=o[e];u[e]=function(n,r){n.addEventListener(e,function(e){r.dispatch(t(e))})}});n.bindEvents=function(e,t,n){var r="string"==typeof t?t.split(" "):t,o="length"in e?Array.prototype.slice.apply(e):[e];o.forEach(function(e){r.forEach(function(t){if(!(t in u))throw new Error("Undefined event type: "+t);var r=u[t];r(e,n)})})}},{}]},{},["/var/www/site/js/entry-main.js"]);