!function e(r,n,t){function o(i,c){if(!n[i]){if(!r[i]){var a="function"==typeof require&&require;if(!c&&a)return a(i,!0);if(u)return u(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var d=n[i]={exports:{}};r[i][0].call(d.exports,function(e){var n=r[i][1][e];return o(n?n:e)},d,d.exports,e,r,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-main.js":[function(e,r,n){"use strict";var t=e("redux"),o=e("./redux-dom-binding"),u=e("functional-utils"),i={value:1e3,focused:!1},c=function(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],r=arguments[1];switch(r.type){case"DOM_FOCUS":return(0,u.merge)(e,{focused:!0});case"DOM_BLUR":return(0,u.merge)(e,{focused:!1});case"DOM_INPUT":var n=Number(r.text);return Number.isNaN(n)?e:(0,u.merge)(e,{value:n});default:return e}};document.addEventListener("DOMContentLoaded",function(){Array.from(document.querySelectorAll(".common-donation")).forEach(function(e){var r=e.querySelector(".common-donation_form"),n=e.querySelector(".common-donation_tips"),u=e.querySelector(".common-donation_amount"),i=e.querySelector(".common-donation_donate-button"),a=r.querySelector("input[name=sum]"),s=(0,t.createStore)(c),d=function(){var e=s.getState(),r=e.value,t=e.focused,o=.005,c=r-r*(o/(1+o)),d=r-c;u.value=r+(t?"":" ₽"),i.disabled=!(r>0),n.innerText="Будет переведено "+c.toFixed(2)+" ₽ (комиссия "+d.toFixed(2)+" ₽)",a.value=r};s.subscribe(d),d(),(0,o.bindEvents)(u,["input","focus","blur"],s)})})},{"./redux-dom-binding":"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/redux-dom-binding.js","functional-utils":"functional-utils",redux:"redux"}],"/Users/koluch/Dropbox/dev/misc/hehe/repo/js/redux-dom-binding.js":[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=["input","focus","blur"],o={};t.forEach(function(e){o[e]=function(){switch(e){case"input":return function(e){return{type:"DOM_INPUT",text:e.target.value}};case"focus":return function(e){return{type:"DOM_FOCUS"}};case"blur":return function(e){return{type:"DOM_BLUR"}};default:throw new Error("Unsupported event: "+e)}}()});var u={};t.forEach(function(e){var r=o[e];u[e]=function(n,t){n.addEventListener(e,function(e){t.dispatch(r(e))})}});n.bindEvents=function(e,r,n){var t="string"==typeof r?r.split(" "):r,o="length"in e?Array.from(e):[e];o.forEach(function(e){t.forEach(function(r){if(!(r in u))throw new Error("Undefined event type: "+r);var t=u[r];t(e,n)})})}},{}]},{},["/Users/koluch/Dropbox/dev/misc/hehe/repo/js/entry-main.js"]);